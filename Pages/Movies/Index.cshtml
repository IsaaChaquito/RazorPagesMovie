@page
@model RazorPagesMovie.Pages_Movies.IndexModel

@{
    ViewData["Title"] = "Index";
}

<div class="flex flex-col items-center w-auto h-full mt-10" >
    @* <h1>Movies</h1> *@

  
    <a class="flex items-center gap-x-1 px-3 py-2 m-2 w-fit rounded-lg bg-black/80 hover:bg-black text-white text-sm font-medium" asp-page="Create">
        Add movie
        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" width="128" height="128" viewBox="0 0 512 512"><path fill="currentColor" d="M208 25C106.8 25 25 106.8 25 208s81.8 183 183 183s183-81.8 183-183S309.2 25 208 25m121.3 22.81c21 15.91 38.7 35.83 52.1 58.59c49.1 41.7 93.4 100.9 92 179.2c-.6 34.4-7.3 75.5-19.4 110.3c-12.1 34.7-30.1 62.3-49.7 71.7c-3.9 1.8-9.5 2.2-17.5.6c-8-1.7-17.9-5.3-29.3-10c-22.7-9.5-51.2-23.4-84.2-33.5c-66.2-20.1-152-24.2-247.5 50.6l11.1 14.2c91.2-71.5 168.3-66.7 231.1-47.6c31.4 9.6 59 23 82.6 32.9c11.7 4.9 22.5 8.9 32.6 11s20 2.3 28.9-2c27.5-13.1 46-45.1 58.9-82s19.8-79.5 20.4-115.8c1.6-92.8-55.5-160.5-111.9-204.3c-17.2-13.42-34.5-24.69-50.2-33.89M208 52q24 0 48 12c0 32-32 80-48 80s-48-48-48-80q24-12 48-12M107.4 94.4c27.7 16 53.3 67.7 45.4 81.6c-8.1 13.8-65.6 17.5-93.33 1.5c2.14-35.7 18.13-63.4 47.93-83.1m201.2 0q44.85 29.55 48 83.1c-27.7 16-85.3 12.3-93.3-1.5c-8-13.9 17.6-65.6 45.3-81.6M208 167c22.5 0 41 18.5 41 41s-18.5 41-41 41s-41-18.5-41-41s18.5-41 41-41m0 18c-12.8 0-23 10.2-23 23s10.2 23 23 23s23-10.2 23-23s-10.2-23-23-23m-98.1 42.8c20.3.2 38.6 4.7 42.9 12c7.9 13.9-17.7 65.6-45.4 81.6c-29.83-19.7-45.83-47.4-47.97-83.1c12.97-7.5 32.52-10.7 50.47-10.5m196.2 0c18-.2 37.5 3 50.5 10.5q-3.15 53.55-48 83.1c-27.7-16-53.3-67.7-45.3-81.6c4.3-7.3 22.5-11.8 42.8-12M208 271.7c16 .1 48 48.1 48 80.1q-48 24-96 0c0-32 32-80 48-80.1"/></svg>
    </a>

    <div class="w-fit relative overflow-x-auto sm:rounded-lg">
        <form class="flex justify-between px-5 py-1 bg-gray-800 text-white font-normal text-sm">
            <label>
                Search title: 
                <input class="ml-1 bg-white p-1 text-black rounded-md" type="text" asp-for="SearchString" />
            <input class="ml-1 py-1 px-2 rounded-md bg-indigo-600 hover:bg-indigo-700" type="submit" value="Filter" />
            </label>

            <select class="  outline-none text-sm rounded-lg w-fit bg-gray-800  placeholder-gray-400 text-white " asp-for="MovieGenre" asp-items="Model.Genres">
                <option value="">All</option>
            </select>
        </form>

        @if (Model.Movie == null || !Model.Movie.Any())
        {
            <p class="text-gray-700 mt-5">No hay pel√≠culas registradas...</p>
        }
        else
        {
            <table class="w-fit text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400">

                <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
                    <tr>
                        <th scope="col" class="px-6 py-3">
                            @Html.DisplayNameFor(model => model.Movie[0].Title)
                        </th>
                        <th scope="col" class="px-6 py-3">
                            @Html.DisplayNameFor(model => model.Movie[0].ReleaseDate)
                        </th>
                        <th scope="col" class="px-6 py-3">
                            @Html.DisplayNameFor(model => model.Movie[0].Genre)
                        </th>
                        <th scope="col" class="px-6 py-3">
                            @Html.DisplayNameFor(model => model.Movie[0].Price)
                        </th>
                        <th scope="col" class="px-6 py-3">
                            @Html.DisplayNameFor(model => model.Movie[0].Rating)
                        </th>
                        <th scope="col" class="px-6 py-3">
                            <span class="">Actions</span>
                        </th>
                    </tr>
                </thead>
            <tbody>
            @foreach (var item in Model.Movie) {
                    <tr class="border-b bg-gray-800 border-gray-700 hover:bg-gray-900">
                        <th scope="row" class="px-6 py-2 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                            @Html.DisplayFor(modelItem => item.Title)
                        </th>
                        <td class="px-6 py-2">
                            @Html.DisplayFor(modelItem => item.ReleaseDate)
                        </td>
                        <td class="px-6 py-2">
                            @Html.DisplayFor(modelItem => item.Genre)
                        </td>
                        <td class="px-6 py-2 rounde">
                            <div class="rounded-full text-sky-500">
                                @Html.DisplayFor(modelItem => item.Price)
                                
                            </div>
                        </td>
                        
                        <td class="px-6 py-2 rounde">
                            <div class="rounded-full text-sky-500 flex items-center">
                                @for(int i=0; i<5; i++){

                                    <svg class="size-3 @(i<item.Rating ? "text-yellow-400" : "text-gray-500") ms-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 22 20">
                                        <path d="M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z"/>
                                    </svg>
                                }
                            </div>
                        </td>

                        <td class="px-6 py-2 text-right flex items-center ">
                            <a title="Edit" class="text-green-400 bg-gray-900 hover:bg-gray-800 rounded-l-md p-2" asp-page="./Edit" asp-route-id="@item.Id">
                                <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" width="128" height="128" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m14.304 4.844l2.852 2.852M7 7H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-4.5m2.409-9.91a2.017 2.017 0 0 1 0 2.853l-6.844 6.844L8 14l.713-3.565l6.844-6.844a2.015 2.015 0 0 1 2.852 0Z"/></svg>
                            </a>
                            <a title="Details" class="text-white bg-gray-900 hover:bg-gray-800  p-2" asp-page="./Details" asp-route-id="@item.Id">
                                <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" width="128" height="128" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 11h2v5m-2 0h4m-2.592-8.5h.01M21 12a9 9 0 1 1-18 0a9 9 0 0 1 18 0"/></svg>
                            </a>
                            <a title="Delete" class="text-red-400 bg-gray-900 hover:bg-gray-800 rounded-r-md p-2" asp-page="./Delete" asp-route-id="@item.Id">
                                <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" width="128" height="128" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 7h14m-9 3v8m4-8v8M10 3h4a1 1 0 0 1 1 1v3H9V4a1 1 0 0 1 1-1M6 7h12v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1z"/></svg>
                            </a>
                        </td>
                    </tr>
            }
                </tbody>
            </table>
            
        }
    </div>
</div>

